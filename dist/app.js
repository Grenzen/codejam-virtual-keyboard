!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../codejam-virtual-keyboard/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(2),n(3)},function(e,t){var n=document.createElement("div");n.className="root-wrapper",document.body.append(n);var o=document.createElement("textarea");o.classList.add("text-field","use-keyboard"),o.autofocus=!0,n.prepend(o);var r={elements:{main:null,keysContainer:null,keys:[]},eventHandlers:{oninput:null},properties:{value:"",capsLock:!1,shift:!1,command:!1,space:!1,ru:!0,en:!1},init:function(){var e=this;this.elements.main=document.createElement("div"),this.elements.keysContainer=document.createElement("div"),this.elements.main.classList.add("keyboard"),this.elements.keysContainer.classList.add("keyboard__keys"),this.elements.keysContainer.appendChild(this.createKeys()),this.elements.keys=this.elements.keysContainer.querySelectorAll(".keyboard__key"),this.elements.main.appendChild(this.elements.keysContainer),n.appendChild(this.elements.main);var t=document.querySelector(".use-keyboard");t.addEventListener("focus",(function(){e.open(t.value,(function(e){t.value=e}))}))},createKeys:function(){var e=this,t=document.createDocumentFragment(),n=["ё","1","2","3","4","5","6","7","8","9","0","-","=","delete","tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","caps lock","ф","ы","в","а","п","р","о","л","д","ж","э","return","shift","я","ч","с","м","и","т","ь","б","ю",".","shift","fn","control","option","command","","command","option",""],o=["Ë","!",'"',"№",";","%",":","?","*","(",")","_","+","delete","tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","caps lock","ф","ы","в","а","п","р","о","л","д","ж","э","return","shift","я","ч","с","м","и","т","ь","б","ю",",","shift","fn","control","option","command","","command","option",""],i=["`","1","2","3","4","5","6","7","8","9","0","-","=","delete","tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","caps lock","a","s","d","f","g","h","j","k","l",";","'","return","shift","z","x","c","v","b","n","m",",",".","/","shift","fn","control","option","command","","command","option",""],s=["~","!","@","#","$","%","^","&","*","(",")","_","+","delete","tab","q","w","e","r","t","y","u","i","o","p","{","}","|","caps lock","a","s","d","f","g","h","j","k","l",":",'"',"return","shift","z","x","c","v","b","n","m","<",">","?","shift","fn","control","option","command","","command","option",""];return n.forEach((function(a,c){var d=document.createElement("button");d.setAttribute("type","button"),d.classList.add("keyboard__key"),"delete"===a?(d.classList.add("keyboard__key--wide","keyboard__key--low-font","keyboard__key--low-font-right"),d.textContent="delete",d.addEventListener("click",(function(){e.properties.value=e.properties.value.substring(0,e.properties.value.length-1),e.triggerEvent("oninput")}))):"caps lock"===a?(d.classList.add("keyboard__key--mid-wide","keyboard__key--activatable","keyboard__key--low-font","keyboard__key--low-font-left"),d.textContent="caps lock",d.addEventListener("click",(function(){e.toggleCapsLock(),d.classList.toggle("keyboard__key--active",e.properties.capsLock)}))):"return"===a?(d.classList.add("keyboard__key--mid-wide","keyboard__key--low-font","keyboard__key--low-font-right"),d.textContent="return",d.addEventListener("click",(function(){e.properties.value+="\n",e.triggerEvent("oninput")}))):"tab"===a?(d.classList.add("keyboard__key--wide","keyboard__key--low-font","keyboard__key--low-font-left"),d.textContent="tab",d.addEventListener("click",(function(){e.properties.value+="\t",e.triggerEvent("oninput")}))):41===c||52===c?(d.textContent=a,41===c?d.classList.add("keyboard__key--shift-wide","keyboard__key--low-font","keyboard__key--low-font-left"):d.classList.add("keyboard__key--shift-wide","keyboard__key--low-font","keyboard__key--low-font-right"),d.addEventListener("click",(function(){e.toggleShift(),d.classList.toggle("keyboard__key--shift-wide-active",e.properties.shift),e.properties.shift?e.elements.keys.forEach((function(t,n){var r=t;r.textContent.length<=1&&(e.properties.ru?r.textContent=o[n]:r.textContent=s[n],r.textContent=r.textContent.toUpperCase())})):(e.properties.ru&&e.toggleShiftOff(n),e.toggleShiftOff(i))}))):"control"===a?(d.classList.add("keyboard__key--low-font","keyboard__key--low-font-left"),d.textContent="control",d.addEventListener("click",(function(){e.triggerEvent("oninput")}))):"option"===a?(d.classList.add("keyboard__key--low-font"),d.textContent="option",d.addEventListener("click",(function(){e.triggerEvent("oninput")}))):"command"===a?(d.classList.add("keyboard__key--low-font","keyboard__key--command-wide"),d.textContent="command",d.addEventListener("click",(function(){e.toggleCommand(),d.classList.toggle("keyboard__key--command-wide-active",e.properties.command),e.triggerEvent("oninput")}))):57===c?(d.textContent="",d.classList.add("keyboard__key--space-wide"),d.addEventListener("click",(function(){e.properties.command||(e.properties.value+=" "),e.toggleSpace(),d.classList.toggle("keyboard__key--space-wide-active",e.properties.space),e.properties.command&&e.properties.space&&(e.properties.ru?e.toggleShiftOff(i):e.toggleShiftOff(n),e.properties.ru=!e.properties.ru,e.properties.en=!e.properties.en,e.properties.space=!1,e.commandReset(),r.elements.keys[57].classList.remove("keyboard__key--space-wide-active")),e.triggerEvent("oninput")}))):60===c?(d.classList.add("keyboard__key--arrows-wide"),d.addEventListener("click",(function(){e.triggerEvent("oninput")}))):"fn"===a?(d.classList.add("keyboard__key--low-font","keyboard__key--low-font-left"),d.textContent="fn",d.addEventListener("click",(function(){e.triggerEvent("oninput")}))):(d.textContent=a.toLowerCase(),d.addEventListener("click",(function(){e.properties.value+=d.textContent,e.properties.shift&&(e.properties.ru?e.toggleShiftOff(n):e.toggleShiftOff(i),e.properties.shift=!e.properties.shift,r.elements.keys[41].classList.remove("keyboard__key--shift-wide-active"),r.elements.keys[52].classList.remove("keyboard__key--shift-wide-active")),e.properties.command&&e.commandReset(),e.triggerEvent("oninput")}))),t.appendChild(d),13!==c&&27!==c&&40!==c&&52!==c||t.appendChild(document.createElement("br"))})),t},triggerEvent:function(e){"function"==typeof this.eventHandlers[e]&&console.log("value after function oninput ".concat(this.properties.value))},toggleCapsLock:function(){this.properties.capsLock=!this.properties.capsLock,this.elements.keys.forEach((function(e){e.textContent.length<=1&&(e.textContent=r.properties.capsLock?e.textContent.toUpperCase():e.textContent.toLowerCase())}))},toggleShift:function(){this.properties.shift=!this.properties.shift},toggleShiftOff:function(e){this.elements.keys.forEach((function(t,n){t.textContent=e[n]}))},commandReset:function(){this.properties.command=!1,r.elements.keys[56].classList.remove("keyboard__key--command-wide-active"),r.elements.keys[58].classList.remove("keyboard__key--command-wide-active")},toggleCommand:function(){this.properties.command=!this.properties.command},toggleSpace:function(){this.properties.command&&(this.properties.space=!this.properties.space)},open:function(e,t){this.properties.value=e||"",this.eventHandlers.oninput=t}};n.addEventListener("DOMContentLoader",r.init())},function(e,t,n){},function(e,t,n){var o=n(4);"string"==typeof o&&(o=[[e.i,o,""]]);var r={insert:"head",singleton:!1};n(5)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t,n){"use strict";var o,r={},i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id],s=0;if(i){for(i.refs++;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(k(o.parts[s],t))}else{for(var a=[];s<o.parts.length;s++)a.push(k(o.parts[s],t));r[o.id]={id:o.id,refs:1,parts:a}}}}function d(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var o=n.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var l,p=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function u(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function f(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r&&e.setAttribute("media",r),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,y=0;function k(e,t){var n,o,r;if(t.singleton){var i=y++;n=m||(m=d(t)),o=u.bind(null,n,i,!1),r=u.bind(null,n,i,!0)}else n=d(t),o=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=a(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i],d=r[s.id];d&&(d.refs--,o.push(d))}e&&c(a(e,t),t);for(var l=0;l<o.length;l++){var p=o[l];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete r[p.id]}}}}}]);